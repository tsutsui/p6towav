# p6towav

PC-6001エミュレータ用のテープデータのP6ファイルを実機データレコーダー端子から
ロードするためのwavファイルに変換するツール

すでに同様の目的の高機能のツールがありますが、
自作P6デモ作成のテストで `Makefile` から変換ツールを呼び出せるように作ったもの

## 使い方

```
% p6towav [変換元P6ファイル] [変換後wavファイル]
```

## 仕様

とりあえず自分用に動けばいい、で作ったので雑設定です

- 出力 wav サンプルレートは 19200 Hz 固定 (2400 Hz ×8)
- 出力 wav 形式は 8bit PCM 固定 (矩形波なのでこれで十分)
- 位相は立ち上がり開始で固定 (PC-6001初代はこれでOK)
- ボーレートは 1200 bps 固定
- 最初のロングヘッダは 2000 ms 固定
(`LONG_HEADER_MSEC` で変更可能)
- BASICプログラムのファイル名後のショートヘッダは 500 ms 固定
(`SHORT_HEADER_MSEC` で変更可能)
- ストップビット数は 3 固定
(`STOP_BITS` で変更可能)
- ファイル最初の無音部およびファイル最後のピー音の追加は無し
- `P6` ファイルの先頭が N60-BASIC 形式 (`0xd3` ×10) であれば BASICとしてショートヘッダありで変換
- それ以外の形式であればロングヘッダ付与のみで変換